{% extends "base.html" %}

{% block content %}
    <div class="header">
        <h1>PDF Compressor</h1>
        <p>Compress your PDF files to the desired size range</p>
    </div>

    <div class="info-note">
        <details>
            <summary class="info-summary">
                <i class="fas fa-info-circle"></i>
                Important Usage Notes
                <i class="fas fa-chevron-down toggle-icon"></i>
            </summary>
            <div class="note-content">
                <p><strong>Optimization Guidelines:</strong></p>
                <ul>
                    <li>Best performance with image-based PDFs (scans/photos)</li>
                    <li>Single-page documents achieve most consistent results</li>
                    <li>Text-heavy PDFs may show limited compression</li>
                    <li>Multi-page support experimental - YMMV</li>
                </ul>
                <p class="disclaimer">While all PDF types are accepted, complex documents may require multiple compression attempts for optimal results.</p>
            </div>
        </details>
    </div>

    <form method="post" enctype="multipart/form-data" class="upload-form">
        <div class="form-group">
            <label>Upload PDF:</label>
            <div class="file-input-wrapper">
                <input type="file" name="file" id="fileInput" class="file-input" accept=".pdf" required>
                <label for="fileInput" class="custom-file-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    Choose File
                </label>
                <span class="file-name" id="fileName">No file chosen</span>
            </div>
        </div>

        <div class="form-group">
            <label>Minimum Size (KB):</label>
            <input type="number" name="min_size" required min="20">
        </div>

        <div class="form-group">
            <label>Maximum Size (KB):</label>
            <input type="number" name="max_size" required min="20">
        </div>

        <button type="submit" class="btn">Compress PDF</button>
    </form>

    <script>
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const fileName = e.target.files[0] ? e.target.files[0].name : 'No file chosen';
            document.getElementById('fileName').textContent = fileName;
        });
    </script>
{% endblock %}